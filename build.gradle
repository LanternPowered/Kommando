plugins {
    id 'org.jetbrains.kotlin.jvm' version '1.3.61'
    id 'net.minecrell.licenser' version '0.4.1'
}

group 'org.lanternpowered'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib"
}

tasks.withType(org.jetbrains.kotlin.gradle.tasks.KotlinCompile)*.kotlinOptions {
    jvmTarget = '1.8'
    languageVersion = '1.3'
    freeCompilerArgs = [
            '-Xuse-experimental=kotlin.ExperimentalUnsignedTypes',
            '-Xuse-experimental=kotlin.contracts.ExperimentalContracts',
            '-Xuse-experimental=kotlin.ExperimentalStdlibApi',
            '-XXLanguage:+InlineClasses',
            '-XXLanguage:+NonParenthesizedAnnotationsOnFunctionalTypes'
    ]
}

// License header plugin
license {
    header file('HEADER.txt')
    include '**/*.kt'

    newLine false
    ignoreFailures false

    ext {
        name = project.name
        url = 'https://www.lanternpowered.org'
        organization = 'LanternPowered'
    }
}
